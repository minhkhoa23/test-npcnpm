<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xem Tin T·ª©c</title>
    <link rel="stylesheet" href="../assets/styles/base.css">
    <link rel="stylesheet" href="../assets/styles/layout.css">
    <link rel="stylesheet" href="../assets/styles/components.css">
    <link rel="stylesheet" href="../assets/styles/news-management.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <button class="menu-toggle" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <div class="logo">
                <img src="../assets/images/logo.png" alt="Tournament Manager" class="logo-img">
                <span class="logo-text">Tournament Manager</span>
            </div>
            
            <div class="header-search">
                <input type="search" placeholder="T√¨m ki·∫øm..." class="search-input">
                <button class="search-btn" aria-label="T√¨m ki·∫øm">üîç</button>
            </div>
            
            <div class="header-actions">
                <button class="notification-btn" aria-label="Th√¥ng b√°o">üîî</button>
                <div class="user-avatar">
                    <img src="../assets/images/avatar-placeholder.png" alt="User Avatar" class="avatar-img">
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="dashboard.html" class="nav-link">Trang ch·ªß</a>
            <a href="tournament-management.html" class="nav-link">Gi·∫£i ƒë·∫•u</a>
            <a href="highlight-management.html" class="nav-link">Highlights</a>
            <a href="news-management.html" class="nav-link active">Tin t·ª©c</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="content-container">
            <!-- Breadcrumb -->
            <nav class="breadcrumb">
                <a href="dashboard.html" class="breadcrumb-link">Trang ch·ªß</a>
                <span class="breadcrumb-separator">></span>
                <a href="news-management.html" class="breadcrumb-link">Tin t·ª©c</a>
                <span class="breadcrumb-separator">></span>
                <span class="breadcrumb-current">Xem tin t·ª©c</span>
            </nav>

            <!-- News Article -->
            <article class="news-article">
                <div class="news-header">
                    <div class="news-meta">
                        <span class="news-category">Gi·∫£i ƒë·∫•u esports</span>
                        <span class="news-date">15/01/2024</span>
                    </div>
                    <button class="back-btn" onclick="history.back()">‚Üê Quay l·∫°i</button>
                </div>

                <h1 class="news-title">Chung k·∫øt gi·∫£i ƒë·∫•u PUBG Mobile 2024 - Nh·ªØng kho·∫£nh kh·∫Øc ƒë·ªânh cao</h1>

                <div class="news-author">
                    <div class="author-avatar">
                        <img src="../assets/images/avatar-placeholder.png" alt="T√°c gi·∫£" class="author-img">
                    </div>
                    <div class="author-info">
                        <span class="author-name">Nguy·ªÖn VƒÉn A</span>
                        <span class="author-role">Qu·∫£n tr·ªã vi√™n</span>
                    </div>
                </div>

                <div class="news-featured-image">
                    <img src="../assets/images/news-placeholder.jpg" alt="H√¨nh ·∫£nh tin t·ª©c" class="featured-img">
                </div>

                <div class="news-content">
                    <p class="news-summary">
                        Chung k·∫øt gi·∫£i ƒë·∫•u PUBG Mobile 2024 ƒë√£ di·ªÖn ra v·ªõi nh·ªØng m√†n tr√¨nh di·ªÖn ƒë·ªânh cao t·ª´ c√°c ƒë·ªôi tuy·ªÉn h√†ng ƒë·∫ßu. 
                        S·ª± ki·ªán thu h√∫t h∆°n 100.000 ng∆∞·ªùi xem tr·ª±c tuy·∫øn v√† t·∫°o ra nh·ªØng kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ trong l·ªãch s·ª≠ esports Vi·ªát Nam.
                    </p>

                    <p>
                        Gi·∫£i ƒë·∫•u PUBG Mobile 2024 ƒë√£ kh√©p l·∫°i v·ªõi chi·∫øn th·∫Øng thu·ªôc v·ªÅ ƒë·ªôi tuy·ªÉn Team Alpha sau 5 tr·∫≠n ƒë·∫•u cƒÉng th·∫≥ng. 
                        ƒê√¢y l√† l·∫ßn th·ª© hai li√™n ti·∫øp Team Alpha gi√†nh ƒë∆∞·ª£c ch·ª©c v√¥ ƒë·ªãch, kh·∫≥ng ƒë·ªãnh v·ªã th·∫ø c·ªßa h·ªç trong l√†ng esports Vi·ªát Nam.
                    </p>

                    <p>
                        Tr·∫≠n chung k·∫øt di·ªÖn ra t·∫°i s√¢n v·∫≠n ƒë·ªông M·ªπ ƒê√¨nh v·ªõi s·ª± tham d·ª± c·ªßa h∆°n 10.000 kh√°n gi·∫£. Kh√¥ng kh√≠ s√¥i ƒë·ªông v√† 
                        nh·ªØng ti·∫øng c·ªï v≈© kh√¥ng ng·ªõt ƒë√£ t·∫°o n√™n m·ªôt b·∫ßu kh√¥ng kh√≠ tuy·ªát v·ªùi cho c√°c tuy·ªÉn th·ªß thi ƒë·∫•u.
                    </p>

                    <h2 class="content-heading">Nh·ªØng ƒëi·ªÉm n·ªïi b·∫≠t c·ªßa gi·∫£i ƒë·∫•u</h2>

                    <ul class="content-list">
                        <li>T·ªïng gi·∫£i th∆∞·ªüng l√™n ƒë·∫øn 1 t·ª∑ VNƒê</li>
                        <li>16 ƒë·ªôi tuy·ªÉn m·∫°nh nh·∫•t Vi·ªát Nam tham gia</li>
                        <li>H∆°n 100.000 ng∆∞·ªùi xem tr·ª±c tuy·∫øn</li>
                        <li>C√¥ng ngh·ªá livestream 4K ch·∫•t l∆∞·ª£ng cao</li>
                        <li>S·ª± ki·ªán ƒë∆∞·ª£c t·ªï ch·ª©c theo ti√™u chu·∫©n qu·ªëc t·∫ø</li>
                    </ul>

                    <p>
                        Gi·∫£i ƒë·∫•u nƒÉm nay c≈©ng ƒë√°nh d·∫•u s·ª± ra m·∫Øt c·ªßa h·ªá th·ªëng qu·∫£n l√Ω gi·∫£i ƒë·∫•u m·ªõi, gi√∫p vi·ªác t·ªï ch·ª©c v√† theo d√µi 
                        c√°c tr·∫≠n ƒë·∫•u tr·ªü n√™n chuy√™n nghi·ªáp v√† minh b·∫°ch h∆°n.
                    </p>

                    <h2 class="content-heading">K·∫øt qu·∫£ chi ti·∫øt</h2>

                    <div class="results-table">
                        <div class="result-row">
                            <span class="position">1</span>
                            <span class="team-name">Team Alpha</span>
                            <span class="prize">500.000.000 VNƒê</span>
                        </div>
                        <div class="result-row">
                            <span class="position">2</span>
                            <span class="team-name">Gaming Legends</span>
                            <span class="prize">300.000.000 VNƒê</span>
                        </div>
                        <div class="result-row">
                            <span class="position">3</span>
                            <span class="team-name">Phoenix Rising</span>
                            <span class="prize">200.000.000 VNƒê</span>
                        </div>
                    </div>

                    <p>
                        V·ªõi th√†nh c√¥ng c·ªßa gi·∫£i ƒë·∫•u nƒÉm nay, ban t·ªï ch·ª©c ƒë√£ c√¥ng b·ªë k·∫ø ho·∫°ch t·ªï ch·ª©c gi·∫£i ƒë·∫•u PUBG Mobile 2025 
                        v·ªõi quy m√¥ l·ªõn h∆°n v√† nhi·ªÅu ƒë·ªïi m·ªõi th√∫ v·ªã.
                    </p>
                </div>

                <div class="news-actions">
                    <button class="share-btn">üì§ Chia s·∫ª</button>
                    <button class="bookmark-btn">üîñ L∆∞u</button>
                    <button class="print-btn">üñ®Ô∏è In</button>
                </div>

                <div class="news-tags">
                    <span class="tag">PUBG Mobile</span>
                    <span class="tag">Esports</span>
                    <span class="tag">Chung k·∫øt</span>
                    <span class="tag">2024</span>
                </div>
            </article>

            <!-- Related News -->
            <section class="related-news">
                <h2 class="section-title">Tin t·ª©c li√™n quan</h2>
                <div class="related-grid">
                    <article class="related-item">
                        <img src="../assets/images/news-placeholder.jpg" alt="Tin t·ª©c li√™n quan" class="related-img">
                        <div class="related-content">
                            <h3 class="related-title">Gi·∫£i ƒë·∫•u Li√™n Minh Huy·ªÅn Tho·∫°i s·∫Øp kh·ªüi tranh</h3>
                            <p class="related-date">12/01/2024</p>
                        </div>
                    </article>
                    <article class="related-item">
                        <img src="../assets/images/news-placeholder.jpg" alt="Tin t·ª©c li√™n quan" class="related-img">
                        <div class="related-content">
                            <h3 class="related-title">C·∫≠p nh·∫≠t lu·∫≠t thi ƒë·∫•u m·ªõi cho gi·∫£i FIFA Online 4</h3>
                            <p class="related-date">10/01/2024</p>
                        </div>
                    </article>
                    <article class="related-item">
                        <img src="../assets/images/news-placeholder.jpg" alt="Tin t·ª©c li√™n quan" class="related-img">
                        <div class="related-content">
                            <h3 class="related-title">H∆∞·ªõng d·∫´n ƒëƒÉng k√Ω tham gia gi·∫£i ƒë·∫•u</h3>
                            <p class="related-date">08/01/2024</p>
                        </div>
                    </article>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h4 class="footer-title">Tournament Manager</h4>
                <p class="footer-text">H·ªá th·ªëng qu·∫£n l√Ω gi·∫£i ƒë·∫•u esports chuy√™n nghi·ªáp</p>
            </div>
            <div class="footer-section">
                <h4 class="footer-title">Li√™n k·∫øt</h4>
                <ul class="footer-links">
                    <li><a href="#" class="footer-link">V·ªÅ ch√∫ng t√¥i</a></li>
                    <li><a href="#" class="footer-link">H·ªó tr·ª£</a></li>
                    <li><a href="#" class="footer-link">ƒêi·ªÅu kho·∫£n</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4 class="footer-title">Li√™n h·ªá</h4>
                <p class="footer-text">Email: contact@tournamentmanager.com</p>
                <p class="footer-text">Hotline: 1900-xxxx</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Tournament Manager. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/api.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize page
            initializeNewsView();
        });

        function initializeNewsView() {
            // Handle share button
            const shareBtn = document.querySelector('.share-btn');
            if (shareBtn) {
                shareBtn.addEventListener('click', function() {
                    if (navigator.share) {
                        navigator.share({
                            title: document.querySelector('.news-title').textContent,
                            text: document.querySelector('.news-summary').textContent,
                            url: window.location.href
                        });
                    } else {
                        // Fallback: copy to clipboard
                        navigator.clipboard.writeText(window.location.href)
                            .then(() => alert('ƒê√£ sao ch√©p link v√†o clipboard!'));
                    }
                });
            }

            // Handle bookmark button
            const bookmarkBtn = document.querySelector('.bookmark-btn');
            if (bookmarkBtn) {
                bookmarkBtn.addEventListener('click', function() {
                    // Toggle bookmark state
                    this.classList.toggle('bookmarked');
                    const isBookmarked = this.classList.contains('bookmarked');
                    this.textContent = isBookmarked ? 'üîñ ƒê√£ l∆∞u' : 'üîñ L∆∞u';
                    
                    // Save to localStorage or send to server
                    const newsId = new URLSearchParams(window.location.search).get('id') || 'sample';
                    saveBookmark(newsId, isBookmarked);
                });
            }

            // Handle print button
            const printBtn = document.querySelector('.print-btn');
            if (printBtn) {
                printBtn.addEventListener('click', function() {
                    window.print();
                });
            }

            // Handle related news clicks
            const relatedItems = document.querySelectorAll('.related-item');
            relatedItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Navigate to related news article
                    const title = this.querySelector('.related-title').textContent;
                    console.log('Navigate to:', title);
                    // In a real app, this would navigate to the specific news article
                });
            });

            // Load news content based on URL parameters
            loadNewsContent();
        }

        function loadNewsContent() {
            const urlParams = new URLSearchParams(window.location.search);
            const newsId = urlParams.get('id');
            
            if (newsId && newsId !== 'sample') {
                // Load specific news article from API
                fetchNewsById(newsId)
                    .then(news => {
                        if (news) {
                            updateNewsContent(news);
                        }
                    })
                    .catch(error => {
                        console.error('Error loading news:', error);
                    });
            }
        }

        function updateNewsContent(news) {
            // Update page content with fetched news data
            const titleElement = document.querySelector('.news-title');
            const contentElement = document.querySelector('.news-content');
            const categoryElement = document.querySelector('.news-category');
            const dateElement = document.querySelector('.news-date');
            const authorElement = document.querySelector('.author-name');
            
            if (titleElement) titleElement.textContent = news.title;
            if (categoryElement) categoryElement.textContent = news.category || 'Tin t·ª©c';
            if (dateElement) dateElement.textContent = formatDate(news.createdAt);
            if (authorElement) authorElement.textContent = news.author || 'Qu·∫£n tr·ªã vi√™n';
            
            if (contentElement && news.content) {
                contentElement.innerHTML = `
                    <p class="news-summary">${news.summary || news.content.substring(0, 200) + '...'}</p>
                    <div>${news.content}</div>
                `;
            }
        }

        function saveBookmark(newsId, isBookmarked) {
            // Save bookmark state to localStorage
            const bookmarks = JSON.parse(localStorage.getItem('newsBookmarks') || '[]');
            
            if (isBookmarked) {
                if (!bookmarks.includes(newsId)) {
                    bookmarks.push(newsId);
                }
            } else {
                const index = bookmarks.indexOf(newsId);
                if (index > -1) {
                    bookmarks.splice(index, 1);
                }
            }
            
            localStorage.setItem('newsBookmarks', JSON.stringify(bookmarks));
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('vi-VN');
        }

        async function fetchNewsById(id) {
            try {
                const response = await fetch(`/api/news/${id}`);
                if (response.ok) {
                    return await response.json();
                }
                return null;
            } catch (error) {
                console.error('Error fetching news:', error);
                return null;
            }
        }
    </script>
</body>
</html>
